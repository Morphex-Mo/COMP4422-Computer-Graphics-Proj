# Cube Scene 键盘控制说明

## 太阳位置控制

| 按键 | 功能 | 范围 |
|------|------|------|
| `↑` | 提升太阳高度 | -1.2 to 1.0 |
| `↓` | 降低太阳高度 | -1.2 to 1.0 |
| `←` | 逆时针旋转太阳方向（绕Y轴） | - |
| `→` | 顺时针旋转太阳方向（绕Y轴） | - |

## 散射参数控制

| 按键 | 功能 | 范围 | 步长 |
|------|------|------|------|
| `T` | 增加散射强度 (Scattering) | 1.0 - 30.0 | 1.0 |
| `G` | 减少散射强度 (Scattering) | 1.0 - 30.0 | 1.0 |
| `R` | 增加 Rayleigh 倍数 | 0.1 - 4.0 | 0.1 |
| `F` | 减少 Rayleigh 倍数 | 0.1 - 4.0 | 0.1 |
| `E` | 增加曝光 (Exposure) | 0.1 - 5.0 | 0.1 |
| `Q` | 减少曝光 (Exposure) | 0.1 - 5.0 | 0.1 |
| `O` | 增加 Mie 倍数 | 0.1 - 5.0 | 0.1 |
| `L` | 减少 Mie 倍数 | 0.1 - 5.0 | 0.1 |
| `P` | 增加 Mie 方向性因子 (G) | -0.999 - 0.999 | 0.05 |
| `V` | 减少 Mie 方向性因子 (G) | -0.999 - 0.999 | 0.05 |

## 颜色控制

| 按键 | 功能 | 范围 | 步长 |
|------|------|------|------|
| `Y` | 增加 Rayleigh 蓝色分量 | 0.0 - 1.0 | 0.1 |
| `H` | 减少 Rayleigh 蓝色分量 | 0.0 - 1.0 | 0.1 |
| `U` | 增加 Mie 红色分量 | 0.0 - 1.0 | 0.1 |
| `J` | 减少 Mie 红色分量 | 0.0 - 1.0 | 0.1 |
| `I` | 增加 Mie 整体亮度 (RGB) | 0.0 - 1.0 | 0.1 |
| `K` | 减少 Mie 整体亮度 (RGB) | 0.0 - 1.0 | 0.1 |

## 全局雾气控制

| 按键 | 功能 | 范围 | 步长 |
|------|------|------|------|
| `1` | 增加全局雾气距离 | 100 - 5000 | 100 |
| `2` | 减少全局雾气距离 | 100 - 5000 | 100 |
| `3` | 增加全局雾气密度 | 0.0 - 2.0 | 0.1 |
| `4` | 减少全局雾气密度 | 0.0 - 2.0 | 0.1 |
| `[` | 增加全局雾气平滑度 | -1.0 - 2.0 | 0.05 |
| `]` | 减少全局雾气平滑度 | -1.0 - 2.0 | 0.05 |

## 高度雾气控制

| 按键 | 功能 | 范围 | 步长 |
|------|------|------|------|
| `5` | 增加高度雾气密度 | 0.0 - 2.0 | 0.1 |
| `6` | 减少高度雾气密度 | 0.0 - 2.0 | 0.1 |
| `7` | 增加高度雾气起始高度 | -50 - 100 | 5.0 |
| `8` | 减少高度雾气起始高度 | -50 - 100 | 5.0 |
| `9` | 增加高度雾气结束高度 | 10 - 500 | 10.0 |
| `0` | 减少高度雾气结束高度 | 10 - 500 | 10.0 |
| `;` | 增加高度雾气平滑度 | 0.0 - 5.0 | 0.1 |
| `'` | 减少高度雾气平滑度 | 0.0 - 5.0 | 0.1 |

## 其他雾气参数

| 按键 | 功能 | 范围 | 步长 |
|------|------|------|------|
| `M` | 增加 Mie 距离 | 0.0 - 2.0 | 0.1 |
| `N` | 减少 Mie 距离 | 0.0 - 2.0 | 0.1 |
| `B` | 增加雾气蓝色强度 | 0.0 - 2.0 | 0.05 |
| `C` | 减少雾气蓝色强度 | 0.0 - 2.0 | 0.05 |

## 调试功能

| 按键 | 功能 |
|------|------|
| `D` | 切换深度图显示 (ON/OFF) |

## 推荐的调试流程

### 1. 调整基础天空效果
1. 使用方向键调整太阳位置，观察天空颜色变化
2. 按 `T`/`G` 调整散射强度 (建议: 10-20)
3. 按 `E`/`Q` 调整曝光 (建议: 1.5-2.5)
4. 按 `R`/`F` 调整 Rayleigh 散射 (建议: 1.0-2.0)

### 2. 调整全局雾气
1. 按 `1`/`2` 设置雾气开始的距离 (建议: 50-200)
2. 按 `3`/`4` 调整雾气密度 (建议: 0.5-1.5)
3. 按 `[`/`]` 调整雾气过渡平滑度 (建议: 0.2-0.5)

### 3. 调整高度雾气
1. 按 `7`/`8` 设置雾气起始高度 (建议: -5 到 0)
2. 按 `9`/`0` 设置雾气结束高度 (建议: 10-50)
3. 按 `5`/`6` 调整高度雾气密度 (建议: 0.3-0.8)

### 4. 微调 Mie 散射效果
1. 按 `O`/`L` 调整 Mie 散射强度
2. 按 `P`/`V` 调整 Mie 方向性 (0.75 附近效果较好)
3. 按 `M`/`N` 调整 Mie 在雾气中的距离影响

### 5. 颜色调整
1. 按 `Y`/`H` 调整天空蓝色
2. 按 `U`/`J` 或 `I`/`K` 调整日落暖色调
3. 按 `B`/`C` 调整远处雾气的蓝色强度

## 实时查看效果

所有参数调整都会在控制台输出当前值，方便你追踪变化：

```
[Cube Scene] Scattering + 15.0
[Cube Scene] Global Fog Distance + 150
[Cube Scene] Exposure + 2.3
```

## 注意事项

- 某些参数（如 `fogBluishDistance`）在代码中是固定的 12288.0，没有提供键盘控制
- `Kr` 和 `Km` 参数是物理高度值（8400m 和 1200m），通常不需要调整
- 如果雾气效果异常，尝试按 `D` 查看深度图，确保深度缓冲正常工作
- 所有参数都有最小/最大值限制，防止出现不合理的值

